var parent=document.getElementById("voice-recognition"),canvas=document.getElementById("voice-canvas"),context=canvas.getContext("2d"),canvasWidth=canvas.width=parent.clientWidth,canvasHeight=canvas.height=parent.clientHeight,cellSize=Math.ceil(canvasWidth/15),amplitude=0,time=-1,voiceInput=document.getElementById("voice-input"),render=function(){context.clearRect(0,0,canvasWidth,canvasHeight),time+=3,voiceInput.classList.contains("on")&&60>amplitude&&(amplitude+=5),!voiceInput.classList.contains("on")&&amplitude>0&&(amplitude-=10);for(var t=1;canvasWidth/2>t;t++){var e=t,n=amplitude*(t/canvasWidth)*Math.sin((e+time)/30);context.beginPath(),context.moveTo(e,n+canvasHeight/2),context.lineTo(e,canvasHeight),context.lineWidth=2,context.strokeStyle="#512DA8",context.globalAlpha=1,context.closePath(),context.stroke(),context.beginPath(),context.moveTo(canvasWidth-e,n+canvasHeight/2),context.lineTo(canvasWidth-e,canvasHeight),context.lineWidth=2,context.strokeStyle="#512DA8",context.globalAlpha=1,context.closePath(),context.stroke()}};setInterval(render,10),voiceInput.addEventListener("mousedown",function(){voiceInput.classList.contains("on")?voiceInput.classList.remove("on"):voiceInput.classList.add("on")},!1);